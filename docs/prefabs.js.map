{"version":3,"file":"prefabs.js","mappings":"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","sources":["webpack://7dtd-map/./src/lib/delayed-renderer.ts","webpack://7dtd-map/./src/lib/preset-button.ts","webpack://7dtd-map/./src/lib/utils.ts","webpack://7dtd-map/./src/prefabs.ts","webpack://7dtd-map/webpack/bootstrap","webpack://7dtd-map/webpack/startup"],"sourcesContent":["import { requireNonnull, waitAnimationFrame } from \"./utils\";\n\nexport class DelayedRenderer<T> {\n  _iterator: Iterator<T[]> = ([] as T[][])[Symbol.iterator]();\n  appendee: HTMLElement;\n  scrollableWrapper: HTMLElement;\n  itemRenderer: (item: T) => Node;\n  scrollCallback = (): void => {\n    this.renderAll();\n  };\n\n  constructor(scrollableWrapper: HTMLElement, appendee: HTMLElement, itemRenderer: (item: T) => Node) {\n    if (!scrollableWrapper.contains(appendee)) throw Error(\"Wrapper element should contain appendee element\");\n    appendee.innerHTML = \"\";\n    this.appendee = appendee;\n    this.scrollableWrapper = scrollableWrapper;\n    this.itemRenderer = itemRenderer;\n  }\n\n  set iterator(iteratorOrIterable: Iterator<T> | Iterable<T>) {\n    if (\"next\" in iteratorOrIterable) {\n      this._iterator = chunkIterator(iteratorOrIterable);\n    } else {\n      this._iterator = chunkIterator(iteratorOrIterable[Symbol.iterator]());\n    }\n    this.appendee.innerHTML = \"\";\n    this.scrollableWrapper.removeEventListener(\"scroll\", this.scrollCallback);\n\n    // Require a delay because flashing childlen like the above fires \"scroll\" events.\n    requestAnimationFrame(() => {\n      this.scrollableWrapper.removeEventListener(\"scroll\", this.scrollCallback);\n      this.scrollableWrapper.addEventListener(\"scroll\", this.scrollCallback, { once: true });\n      renderUntil(this, () => isFill(this.scrollableWrapper));\n    });\n  }\n\n  async renderAll(): Promise<void> {\n    await renderUntil(this, () => false);\n  }\n}\n\nasync function renderUntil<T>(self: DelayedRenderer<T>, stopPredicate: () => boolean) {\n  while (!stopPredicate()) {\n    const result = self._iterator.next();\n    if (isReturn(result)) break;\n    const df = new DocumentFragment();\n    result.value.forEach((i) => df.appendChild(self.itemRenderer(i)));\n    self.appendee.appendChild(df);\n    await waitAnimationFrame();\n  }\n}\n\nfunction isFill(wrapper: HTMLElement) {\n  return wrapper.offsetHeight + 100 < wrapper.scrollHeight;\n}\n\nfunction chunkIterator<T, TReturn, TNext>(origin: Iterator<T, TReturn, TNext>, chunkSize = 10) {\n  let returnResult: IteratorReturnResult<TReturn> | null = null;\n  const chunkIter: Iterator<T[], TReturn, TNext> = {\n    next(...args: [] | [TNext]): IteratorResult<T[], TReturn> {\n      if (returnResult) return returnResult;\n      const chunk = Array<T>(chunkSize);\n      for (let i = 0; i < chunkSize; i++) {\n        const result = origin.next(...args);\n        if (isReturn(result)) {\n          returnResult = result;\n        } else {\n          chunk[i] = result.value;\n        }\n      }\n      return {\n        done: false,\n        value: chunk,\n      };\n    },\n  };\n  if (\"throw\" in origin) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    chunkIter.throw = (e?: any) => {\n      const r = requireNonnull(origin.throw)(e);\n      if (isReturn(r)) return r;\n      else return { done: r.done, value: [r.value] };\n    };\n  }\n  if (\"return\" in origin) {\n    chunkIter.return = (treturn?: TReturn) => {\n      const r = requireNonnull(origin.return)(treturn);\n      if (isReturn(r)) return r;\n      else return { done: r.done, value: [r.value] };\n    };\n  }\n  return chunkIter;\n}\n\nfunction isReturn<T, TReturn>(r: IteratorResult<T, TReturn>): r is IteratorReturnResult<TReturn> {\n  return Boolean(r.done);\n}\n","import { component, requireNonnull } from \"./utils\";\n\nexport function init(): void {\n  document.body.addEventListener(\"click\", ({ target }) => {\n    if (target instanceof HTMLButtonElement && target.dataset.inputFor != null) {\n      const input = component(target.dataset.inputFor, HTMLInputElement);\n      input.value = requireNonnull(target.dataset.inputText ?? target.textContent);\n      input.dispatchEvent(new Event(\"input\"));\n    }\n  });\n}\n","export function requireNonnull<T>(t: T | undefined | null, message = () => `Unexpected state: ${t}`): T {\n  if (t != null) return t;\n  else throw Error(message());\n}\n\nexport function requireType<T>(o: unknown, t: { new (...a: unknown[]): T }, message = () => `Unexpected type: ${o}`): T {\n  if (o instanceof t) return o;\n  throw Error(message());\n}\n\nexport function component<T extends HTMLElement = HTMLElement>(id: string | null | undefined, t?: { new (...a: unknown[]): T }): T {\n  const e = requireNonnull(\n    document.getElementById(requireNonnull(id, () => `Element ID must not null: ${id}`)),\n    () => `Element not found: #${id}`\n  );\n  return t ? requireType(e, t) : (e as T);\n}\n\nexport function removeAllChildren(e: HTMLElement): void {\n  while (e.lastChild) e.removeChild(e.lastChild);\n}\n\nexport function humanreadableDistance(d: number): string {\n  if (d < 1000) {\n    return `${d}m`;\n  }\n  return `${(d / 1000).toFixed(2)}km`;\n}\n\nexport function waitAnimationFrame(): Promise<number> {\n  return new Promise((r) => requestAnimationFrame(r));\n}\n\ninterface EventOffsets {\n  offsetX: number;\n  offsetY: number;\n}\n\nexport function formatCoords(\n  map: GameMapSize,\n  canvas: HTMLCanvasElement,\n  elevation: (coods: GameCoords, mapSize: GameMapSize) => number | null,\n  event: EventOffsets | null\n): string {\n  if (!event) return \"E/W: -, N/S: -, Elev: -\";\n\n  const gameCoords = canvasEventToGameCoords(event, map, canvas);\n  if (gameCoords === null) {\n    return \"E/W: -, N/S: -, Elev: -\";\n  }\n\n  const y = elevation(gameCoords, map) ?? \"-\";\n  return `E/W: ${gameCoords.x}, N/S: ${gameCoords.z}, Elev: ${y}`;\n}\n\nexport function downloadCanvasPng(fileName: string, canvas: HTMLCanvasElement): void {\n  const a = document.createElement(\"a\");\n  a.download = fileName;\n  a.href = canvas.toDataURL(\"image/png\");\n  a.click();\n}\n\nexport async function imageBitmapToPngBlob(img: ImageBitmap): Promise<PngBlob> {\n  const canvas = new OffscreenCanvas(img.height, img.width);\n  const context = requireNonnull(canvas.getContext(\"2d\"));\n  context.drawImage(img, 0, 0);\n  return (await canvas.convertToBlob({ type: \"image/png\" })) as PngBlob;\n}\n\nexport async function sleep(msec: number): Promise<void> {\n  return new Promise((r) => setTimeout(r, msec));\n}\n\nexport function gameMapSize(s: { width: number; height: number }): GameMapSize {\n  return { type: \"game\", ...s };\n}\n\nexport function gameCoords(c: { x: number; z: number }): GameCoords {\n  return { type: \"game\", ...c };\n}\n\n/** Returns null if the event was fired out of the canvas */\nexport function canvasEventToGameCoords(event: EventOffsets, mapSize: GameMapSize, canvasSize: HTMLCanvasElement): GameCoords | null {\n  // in-game scale coords with left-top offset\n  const gx = (event.offsetX * mapSize.width) / canvasSize.width;\n  const gz = (event.offsetY * mapSize.height) / canvasSize.height;\n  if (gx < 0 || gx >= mapSize.width || gz < 0 || gz >= mapSize.height) {\n    return null;\n  }\n\n  // in-game coords (center offset)\n  const x = gx - Math.floor(mapSize.width / 2);\n  const z = Math.floor(mapSize.height / 2) - gz;\n  return gameCoords({ x: Math.round(x), z: Math.round(z) });\n}\n\nexport function threePlaneSize(width: number, height: number): ThreePlaneSize {\n  return { type: \"threePlane\", width, height };\n}\n","import { DelayedRenderer } from \"./lib/delayed-renderer\";\nimport * as presetButton from \"./lib/preset-button\";\nimport { component } from \"./lib/utils\";\nimport { PrefabUpdate } from \"./lib/prefabs\";\nimport * as prefabsFilter from \"./worker/prefabs-filter\";\n\ninterface HighlightedPrefab {\n  name: string;\n  highlightedName?: string;\n  matchedBlocks?: HighlightedBlock[];\n}\n\nfunction main() {\n  presetButton.init();\n\n  const prefabsHandler = new PrefabsHandler(new Worker(\"worker/prefabs-filter.js\"));\n  component(\"blocks_filter\", HTMLInputElement).addEventListener(\n    \"input\",\n    (e) => (prefabsHandler.blockFilter = (e.target as HTMLInputElement).value)\n  );\n  fetch(\"prefab-block-index.json\").then(async (response) => {\n    const prefabs = Object.keys(await response.json()).map((n) => ({ name: n, x: 0, z: 0 }));\n    prefabsHandler.prefabs = prefabs;\n  });\n  const prefabListRenderer = new DelayedRenderer<HighlightedPrefab>(document.body, component(\"prefabs_list\"), (p) => prefabLi(p));\n  prefabsHandler.listeners.push(async (update) => {\n    prefabListRenderer.iterator = update.prefabs;\n  });\n}\n\nfunction prefabLi(prefab: HighlightedPrefab) {\n  const li = document.createElement(\"li\");\n  li.innerHTML = `<a href=\"prefabs/${prefab.name}.html\" target=\"_blank\">${prefab.highlightedName || prefab.name}</a>`;\n  if (prefab.matchedBlocks && prefab.matchedBlocks.length > 0) {\n    const blocksUl = document.createElement(\"ul\");\n    prefab.matchedBlocks.forEach((block) => {\n      const blockLi = document.createElement(\"li\");\n      blockLi.innerHTML = [\n        `<button data-input-for=\"blocks_filter\" data-input-text=\"${block.name}\" title=\"Filter with this block name\">▲</button>`,\n        `${block.count}x`,\n        block.highlightedLabel,\n        `<small>${block.highlightedName}</small>`,\n      ].join(\" \");\n      blocksUl.appendChild(blockLi);\n    });\n    li.appendChild(blocksUl);\n  }\n  return li;\n}\n\ndeclare class PrefabsFilterWorker extends Worker {\n  postMessage(message: prefabsFilter.InMessage): void;\n}\n\nclass PrefabsHandler {\n  worker: PrefabsFilterWorker;\n  listeners: ((prefabs: PrefabUpdate) => Promise<void>)[] = [];\n\n  constructor(worker: PrefabsFilterWorker) {\n    this.worker = worker;\n    this.worker.addEventListener(\"message\", (event: MessageEvent<PrefabUpdate>) => {\n      this.listeners.map((fn) => fn(event.data));\n    });\n  }\n\n  set prefabs(p: Prefab[]) {\n    this.worker.postMessage({ all: p });\n  }\n\n  set blockFilter(filter: string) {\n    this.worker.postMessage({ blocksFilterString: filter });\n  }\n}\n\nif (document.readyState === \"loading\") {\n  document.addEventListener(\"DOMContentLoaded\", main);\n} else {\n  main();\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(19);\n"],"names":["async","renderUntil","self","stopPredicate","result","_iterator","next","isReturn","df","DocumentFragment","value","forEach","i","appendChild","itemRenderer","appendee","waitAnimationFrame","r","Boolean","done","scrollableWrapper","Symbol","iterator","scrollCallback","this","renderAll","contains","Error","innerHTML","iteratorOrIterable","origin","chunkSize","returnResult","chunkIter","args","chunk","Array","throw","e","requireNonnull","return","treturn","chunkIterator","removeEventListener","requestAnimationFrame","addEventListener","once","isFill","wrapper","offsetHeight","scrollHeight","document","body","target","HTMLButtonElement","dataset","inputFor","input","component","HTMLInputElement","inputText","textContent","dispatchEvent","Event","t","message","requireType","o","gameCoords","c","type","canvasEventToGameCoords","event","mapSize","canvasSize","gx","offsetX","width","gz","offsetY","height","x","Math","floor","z","round","id","getElementById","lastChild","removeChild","d","toFixed","Promise","map","canvas","elevation","y","fileName","a","createElement","download","href","toDataURL","click","img","OffscreenCanvas","getContext","drawImage","convertToBlob","msec","setTimeout","s","main","presetButton","init","prefabsHandler","PrefabsHandler","Worker","blockFilter","fetch","then","response","prefabs","Object","keys","json","n","name","prefabListRenderer","DelayedRenderer","p","prefab","li","highlightedName","matchedBlocks","length","blocksUl","block","blockLi","count","highlightedLabel","join","prefabLi","listeners","push","update","worker","fn","data","postMessage","all","filter","blocksFilterString","readyState","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call"],"sourceRoot":""}